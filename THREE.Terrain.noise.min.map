{"version":3,"file":"THREE.Terrain.noise.min.js","sources":["THREE.Terrain.noise.js"],"names":["global","Grad","x","y","z","this","fade","t","lerp","a","b","module","noise","prototype","dot2","dot3","grad3","p","perm","Array","gradP","seed","Math","floor","i","v","random","F2","sqrt","G2","F3","G3","simplex","xin","yin","n0","n1","n2","s","j","x0","y0","i1","j1","x1","y1","x2","y2","gi0","gi1","gi2","t0","t1","t2","perlin","X","Y","n00","n01","n10","n11","u","THREE","Terrain","options","defaultOptions","after","easing","Linear","heightmap","DiamondSquare","material","maxHeight","minHeight","optimization","NONE","frequency","steps","stretch","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","MeshBasicMaterial","color","scene","Object3D","rotation","PI","mesh","Mesh","PlaneGeometry","geometry","vertices","HTMLCanvasElement","Image","fromHeightmap","window","console","warn","Step","Smooth","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","levels","glsl","useLevels","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","toHeightmap","d","createImageData","round","putImageData","heightmapArray","method","arr","xl","sum","m","key","k","inc","heights","buckets","pow","sort","subset","slice","bl","min","max","avg","startHeight","Edges","direction","distance","numXSegments","numYSegments","peak","yl","multiplier","target","k1","k2","EaseInOut","segments","size","smoothing","half","whole","e","Perlin","range","divisor","Simplex","MultiPass","passes","clonedOptions","amp","amplitude","move","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","InEaseOut","PerlinDiamond","PerlinLayers","SimplexLayers","ScatterMeshes","error","BufferGeometry","sizeVariance","randomness","maxSlope","w","h","spreadIsNumber","randomHeightmap","doubleSizeVariance","meshes","up","clone","applyAxisAngle","Vector3","computeFaceNormals","f","faces","normal","angleTo","position","copy","c","divideScalar","lookAt","variance","scale","push","Geometry","updateMatrix","matrix","ScatterHelper","skip","threshold"],"mappings":"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"}