{"version":3,"file":"THREE.Terrain.noise.min.js","sources":["THREE.Terrain.noise.js"],"names":["global","Grad","x","y","z","this","fade","t","lerp","a","b","module","noise","prototype","dot2","dot3","grad3","p","perm","Array","gradP","seed","Math","floor","i","v","random","F2","sqrt","G2","F3","G3","simplex","xin","yin","n0","n1","n2","s","j","x0","y0","i1","j1","x1","y1","x2","y2","gi0","gi1","gi2","t0","t1","t2","perlin","X","Y","n00","n01","n10","n11","u","THREE","Terrain","options","defaultOptions","after","easing","Linear","heightmap","DiamondSquare","material","maxHeight","minHeight","optimization","NONE","frequency","steps","stretch","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","MeshBasicMaterial","color","scene","Object3D","rotation","PI","mesh","Mesh","PlaneGeometry","geometry","vertices","HTMLCanvasElement","Image","fromHeightmap","console","warn","Step","Smooth","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","levels","glsl","useLevels","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","toHeightmap","d","createImageData","round","putImageData","heightmapArray","method","arr","xl","sum","m","key","k","inc","heights","buckets","pow","sort","subset","slice","bl","min","max","avg","startHeight","Edges","direction","distance","numXSegments","numYSegments","peak","yl","multiplier","target","k1","k2","EaseInOut","segments","size","smoothing","half","whole","e","window","Perlin","range","divisor","Simplex","MultiPass","passes","clonedOptions","amp","amplitude","move","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","InEaseOut","PerlinDiamond","PerlinLayers","SimplexLayers","ScatterMeshes","error","BufferGeometry","sizeVariance","randomness","maxSlope","w","h","spreadIsNumber","randomHeightmap","doubleSizeVariance","meshes","up","clone","applyAxisAngle","Vector3","computeFaceNormals","f","faces","normal","angleTo","position","copy","c","divideScalar","lookAt","variance","scale","push","Geometry","updateMatrix","matrix","ScatterHelper","skip","threshold"],"mappings":"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"}