{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","easing","NoEasing","heightmap","DiamondSquare","material","maxHeight","maxVariation","minHeight","optimization","NONE","perlinScale","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","unit","MeshBasicMaterial","color","scene","Scene","mesh","Mesh","PlaneGeometry","rotation","x","Math","PI","HTMLCanvasElement","Image","fromHeightmap","geometry","vertices","window","console","warn","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","EaseInOut","InEaseOut","y","textFromComment","fn","vars","s","match","keys","Object","sort","a","b","length","i","l","key","val","split","join","vertexShader","z","fragmentShader","generateBlendedMaterial","textures","uniforms","assign","declare","fog","fogColor","type","value","fogDensity","density","fogNear","near","fogFar","far","wrapS","wrapT","RepeatWrapping","texture","v","levels","p","glsl","le","j","n","ShaderMaterial","assignTextures","declareTextures","fog_fragment","ShaderChunk","fog_pars_fragment","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","toHeightmap","d","createImageData","round","putImageData","Corner","maxVar","maxVarHalf","xl","k","t","r","random","m","clamp","segments","max","pow","size","smoothing","yl","half","whole","avg","e","noise","perlin","Perlin","seed","range","divisor","min","simplex","Simplex","MultiPass","passes","GRANULARITY","gran","granularity","move","method","PerlinDiamond","SimplexCorner"],"mappings":"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"}