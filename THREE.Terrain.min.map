{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","heightmap","DiamondSquare","material","maxHeight","maxVariation","minHeight","optimization","NONE","perlinScale","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","unit","MeshBasicMaterial","color","scene","Scene","mesh","Mesh","PlaneGeometry","rotation","x","Math","PI","HTMLCanvasElement","Image","fromHeightmap","geometry","vertices","window","console","warn","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","textFromComment","fn","vars","s","match","keys","Object","sort","a","b","length","i","l","key","val","split","join","vertexShader","z","fragmentShader","generateBlendedMaterial","textures","uniforms","assign","declare","fog","fogColor","type","value","fogDensity","density","fogNear","near","fogFar","far","wrapS","wrapT","RepeatWrapping","texture","v","levels","p","glsl","le","j","n","ShaderMaterial","assignTextures","declareTextures","fog_fragment","ShaderChunk","fog_pars_fragment","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","toHeightmap","d","createImageData","round","putImageData","Corner","maxVar","maxVarHalf","xl","k","t","r","random","m","clamp","segments","max","pow","size","smoothing","yl","half","whole","y","avg","e","noise","perlin","Perlin","seed","range","divisor","min","simplex","Simplex","MultiPass","passes","gran","granularity","move","method","Clamp","Infinity","actualRange","targetMax","targetMin","PerlinDiamond","SimplexCorner"],"mappings":"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"}