{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","after","easing","Linear","heightmap","DiamondSquare","material","maxHeight","maxVariation","minHeight","optimization","NONE","perlinScale","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","MeshBasicMaterial","color","scene","Object3D","rotation","x","Math","PI","mesh","Mesh","PlaneGeometry","HTMLCanvasElement","Image","fromHeightmap","geometry","vertices","window","console","warn","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","i","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","v","levels","p","glsl","useLevels","j","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","z","toHeightmap","d","createImageData","round","putImageData","heightmapArray","method","arr","Array","Smooth","xl","sum","m","key","k","Edges","direction","distance","numXSegments","floor","numYSegments","peak","max","min","yl","multiplier","target","k1","k2","EaseInOut","segments","pow","size","smoothing","half","whole","y","avg","e","random","noise","perlin","Perlin","seed","range","divisor","simplex","Simplex","MultiPass","passes","gran","granularity","move","stretch","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","InEaseOut","PerlinDiamond","ScatterMeshes","error","BufferGeometry","sizeVariance","randomness","w","h","spreadIsNumber","randomHeightmap","doubleSizeVariance","meshes","computeFaceNormals","f","faces","a","clone","position","copy","b","c","divideScalar","normal","lookAt","variance","scale","push","Geometry","updateMatrix","matrix","ScatterHelper","skip","threshold","xS"],"mappings":"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"}