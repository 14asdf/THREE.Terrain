{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","after","easing","Linear","heightmap","DiamondSquare","material","maxHeight","minHeight","optimization","NONE","frequency","steps","stretch","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","MeshBasicMaterial","color","scene","Object3D","rotation","x","Math","PI","mesh","Mesh","PlaneGeometry","v","geometry","vertices","HTMLCanvasElement","Image","fromHeightmap","window","console","warn","Step","Smooth","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","i","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","levels","p","glsl","useLevels","j","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","z","toHeightmap","d","createImageData","round","putImageData","heightmapArray","method","arr","Array","xl","sum","m","key","k","inc","floor","heights","buckets","pow","sort","a","b","subset","slice","bl","min","max","avg","startHeight","Edges","direction","distance","numXSegments","numYSegments","peak","yl","multiplier","target","k1","k2","EaseInOut","segments","size","smoothing","half","whole","y","e","random","noise","perlin","Perlin","seed","range","divisor","simplex","Simplex","MultiPass","passes","clonedOptions","amp","amplitude","move","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","InEaseOut","PerlinDiamond","PerlinLayers","SimplexLayers","ScatterMeshes","error","BufferGeometry","sizeVariance","randomness","maxSlope","w","h","spreadIsNumber","randomHeightmap","doubleSizeVariance","meshes","up","clone","applyAxisAngle","Vector3","computeFaceNormals","f","faces","normal","angleTo","position","copy","c","divideScalar","lookAt","variance","scale","push","Geometry","updateMatrix","matrix","ScatterHelper","skip","threshold"],"mappings":"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"}