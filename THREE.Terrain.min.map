{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","after","easing","Linear","heightmap","DiamondSquare","material","maxHeight","minHeight","optimization","NONE","frequency","steps","stretch","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","MeshBasicMaterial","color","scene","Object3D","rotation","x","Math","PI","mesh","Mesh","PlaneGeometry","v","geometry","vertices","HTMLCanvasElement","Image","fromHeightmap","console","warn","Step","Smooth","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","i","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","levels","p","glsl","useLevels","j","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","z","toHeightmap","d","createImageData","round","putImageData","heightmapArray","method","arr","Array","xl","sum","m","key","k","inc","floor","heights","buckets","pow","sort","a","b","subset","slice","bl","min","max","avg","startHeight","Edges","direction","distance","numXSegments","numYSegments","peak","yl","multiplier","target","k1","k2","EaseInOut","segments","size","smoothing","half","whole","y","e","random","window","noise","perlin","Perlin","seed","range","divisor","simplex","Simplex","MultiPass","passes","clonedOptions","amp","amplitude","move","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","InEaseOut","PerlinDiamond","PerlinLayers","SimplexLayers","ScatterMeshes","error","BufferGeometry","sizeVariance","randomness","maxSlope","w","h","spreadIsNumber","randomHeightmap","doubleSizeVariance","meshes","up","clone","applyAxisAngle","Vector3","computeFaceNormals","f","faces","normal","angleTo","position","copy","c","divideScalar","lookAt","variance","scale","push","Geometry","updateMatrix","matrix","ScatterHelper","skip","threshold"],"mappings":"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"}