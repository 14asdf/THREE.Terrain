{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","after","easing","Linear","heightmap","DiamondSquare","material","maxHeight","minHeight","optimization","NONE","frequency","steps","stretch","turbulent","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","MeshBasicMaterial","color","scene","Object3D","rotation","x","Math","PI","mesh","Mesh","PlaneGeometry","v","geometry","vertices","HTMLCanvasElement","Image","fromHeightmap","console","warn","Turbulence","Step","Smooth","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","i","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","levels","p","glsl","useLevels","j","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","z","toHeightmap","d","createImageData","round","putImageData","heightmapArray","method","arr","Array","xl","sum","m","key","k","inc","floor","heights","buckets","pow","sort","a","b","subset","slice","bl","min","max","avg","startHeight","Edges","direction","distance","numXSegments","numYSegments","peak","yl","multiplier","target","k1","k2","EaseInOut","range","abs","segments","size","smoothing","half","whole","y","e","random","window","noise","perlin","Perlin","seed","divisor","simplex","Simplex","MultiPass","passes","clonedOptions","amp","amplitude","move","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","InEaseOut","PerlinDiamond","PerlinLayers","SimplexLayers","ScatterMeshes","error","BufferGeometry","sizeVariance","randomness","maxSlope","w","h","spreadIsNumber","randomHeightmap","doubleSizeVariance","meshes","up","clone","applyAxisAngle","Vector3","computeFaceNormals","f","faces","normal","angleTo","position","copy","c","divideScalar","lookAt","variance","scale","push","Geometry","updateMatrix","matrix","ScatterHelper","skip","threshold"],"mappings":"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"}