{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","heightmap","DiamondSquare","material","maxHeight","maxVariation","minHeight","optimization","NONE","perlinScale","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","unit","MeshBasicMaterial","color","scene","Scene","mesh","Mesh","PlaneGeometry","rotation","x","Math","PI","HTMLCanvasElement","Image","fromHeightmap","geometry","vertices","window","console","warn","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","textFromComment","fn","vars","s","match","keys","Object","sort","a","b","length","i","l","key","val","split","join","vertexShader","z","fragmentShader","generateBlendedMaterial","textures","uniforms","assign","declare","fog","fogColor","type","value","fogDensity","density","fogNear","near","fogFar","far","wrapS","wrapT","RepeatWrapping","texture","v","levels","p","glsl","le","j","n","ShaderMaterial","assignTextures","declareTextures","fog_fragment","ShaderChunk","fog_pars_fragment","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","toHeightmap","d","createImageData","round","putImageData","Corner","maxVar","maxVarHalf","xl","k","t","r","random","m","clamp","segments","max","pow","size","smoothing","yl","half","whole","y","avg","e","noise","perlin","Perlin","seed","range","divisor","min","simplex","Simplex","MultiPass","passes","GRANULARITY","gran","granularity","move","method","Clamp","Infinity","actualRange","targetMax","targetMin","PerlinDiamond","SimplexCorner"],"mappings":"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"}