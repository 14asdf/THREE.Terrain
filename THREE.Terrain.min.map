{"version":3,"file":"THREE.Terrain.min.js","sources":["THREE.Terrain.js"],"names":["THREE","Terrain","options","defaultOptions","easing","NoEasing","heightmap","DiamondSquare","material","maxHeight","maxVariation","minHeight","optimization","NONE","perlinScale","useBufferGeometry","xSegments","xSize","ySegments","ySize","opt","hasOwnProperty","unit","MeshBasicMaterial","color","scene","Scene","mesh","Mesh","PlaneGeometry","rotation","x","Math","PI","HTMLCanvasElement","Image","fromHeightmap","geometry","vertices","window","console","warn","Clamp","verticesNeedUpdate","normalsNeedUpdate","computeBoundingSphere","BufferGeometryUtils","fromGeometry","add","GEOMIPMAP","GEOCLIPMAP","POLYGONREDUCTION","generateBlendedMaterial","textures","uniforms","UniformsUtils","merge","ShaderLib","lambert","declare","assign","i","l","length","wrapS","wrapT","RepeatWrapping","needsUpdate","type","value","texture","v","levels","p","glsl","useLevels","j","n","blendAmount","params","fog","lights","vertexShader","replace","fragmentShader","ShaderChunk","color_pars_fragment","map_pars_fragment","lightmap_pars_fragment","envmap_pars_fragment","fog_pars_fragment","shadowmap_pars_fragment","specularmap_pars_fragment","logdepthbuf_pars_fragment","logdepthbuf_fragment","map_fragment","alphatest_fragment","specularmap_fragment","lightmap_fragment","color_fragment","envmap_fragment","shadowmap_fragment","linear_to_gamma_fragment","fog_fragment","join","ShaderMaterial","g","canvas","document","createElement","context","getContext","rows","cols","spread","width","height","drawImage","data","getImageData","row","col","idx","z","toHeightmap","d","createImageData","round","putImageData","Corner","maxVar","maxVarHalf","xl","k","s","t","b","r","random","m","segments","max","pow","size","smoothing","yl","half","whole","y","avg","e","noise","perlin","Perlin","seed","range","divisor","min","simplex","Simplex","MultiPass","passes","gran","granularity","move","method","Infinity","actualRange","optMax","optMin","targetMax","targetMin","EaseIn","EaseOut","EaseInOut","InEaseOut","PerlinDiamond","SimplexCorner"],"mappings":"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"}